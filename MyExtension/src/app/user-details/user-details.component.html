<h3>Task History</h3>

<input type="text" placeholder="Search task..." [(ngModel)]="searchTerm" class="search-input" />

<div *ngIf="errorMessage" class="error">
  <p>{{ errorMessage }}</p>
</div>

<div *ngIf="!errorMessage && filteredTaskHistory.length === 0">
  <p>No task history found for this user.</p>
</div>

<div class="navigation">
  <button (click)="goToAdminDashboard()">Previous</button>
</div>

<table *ngIf="filteredTaskHistory.length > 0">
  <thead>
    <tr>
      <th>Date</th>
      <th>Task Name</th>
      <th>Total Duration</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let item of filteredTaskHistory">
      <td>{{ item.date }}</td>
      <td>{{ item.taskName }}</td>
      <td>{{ item.totalDuration }}</td>
    </tr>
  </tbody>
</table>

<!-- Show total duration of all tasks for the day -->
<div *ngIf="filteredTaskHistory.length > 0" class="total-summary">
  <strong>Total Time: {{ getTotalTimeForFiltered() }}</strong>
</div>
